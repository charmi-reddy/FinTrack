<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FinTrack - Personal Finance Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <style id="app-style">
        :root {
            --primary-color: #6366f1;
            --secondary-color: #8b5cf6;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --success-color: #10b981;
            --background-color: #f9fafb;
            --card-bg: #ffffff;
            --text-color: #1f2937;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            padding-bottom: 3rem;
        }

        .navbar-brand {
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }

        .card {
            border-radius: 1rem;
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 1.5rem;
            background-color: var(--card-bg);
        }

        .card-header {
            background-color: transparent;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            font-weight: 600;
            padding: 1.25rem 1.5rem;
        }

        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .budget-status {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
        }

        .budget-status.good {
            background-color: var(--success-color);
        }

        .budget-status.warning {
            background-color: var(--warning-color);
        }

        .budget-status.exceeded {
            background-color: var(--danger-color);
        }

        .chart-container {
            height: 350px;
            position: relative;
        }

        .nav-tabs .nav-link {
            color: var(--text-color);
            border: none;
            border-bottom: 2px solid transparent;
            padding: 0.75rem 1rem;
        }

        .nav-tabs .nav-link.active {
            border-color: var(--primary-color);
            color: var(--primary-color);
            background-color: transparent;
        }

        .expense-form {
            border-radius: 1rem;
            padding: 1.5rem;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.2rem rgba(99, 102, 241, 0.25);
        }

        .summary-box {
            border-radius: 1rem;
            padding: 1.5rem;
            background-color: var(--primary-color);
            color: white;
            text-align: center;
        }

        .summary-box h3 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0;
        }

        .summary-box p {
            opacity: 0.8;
            margin-bottom: 0;
        }

        .period-toggle .btn {
            border-radius: 2rem;
            padding: 0.5rem 1.5rem;
            font-size: 0.9rem;
        }

        .period-toggle .btn.active {
            background-color: var(--primary-color);
            color: white;
        }

        .empty-state {
            text-align: center;
            padding: 3rem 2rem;
            color: #6b7280;
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .loading-spinner {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 200px;
        }

        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand" href="javascript:void(0)">
                <i class="fas fa-wallet me-2"></i>FinTrack
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="javascript:void(0)">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)">Reports</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)">Settings</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="app-container">
        <div class="row mt-4">
            <div class="col-md-12">
                <div class="card expense-form">
                    <h5 class="mb-4"><i class="fas fa-plus-circle me-2"></i>Add New Expense</h5>
                    <form id="expense-form">
                        <div class="row g-3">
                            <div class="col-md-3">
                                <label for="expense-date" class="form-label">Date</label>
                                <input type="text" class="form-control" id="expense-date" placeholder="Select date" required>
                            </div>
                            <div class="col-md-3">
                                <label for="expense-amount" class="form-label">Amount ($)</label>
                                <input type="number" class="form-control" id="expense-amount" placeholder="0.00" min="0.01" step="0.01" required>
                            </div>
                            <div class="col-md-3">
                                <label for="expense-category" class="form-label">Category</label>
                                <select class="form-select" id="expense-category" required>
                                    <option value="">Choose category</option>
                                    <option value="food">Food & Dining</option>
                                    <option value="transportation">Transportation</option>
                                    <option value="housing">Housing</option>
                                    <option value="utilities">Utilities</option>
                                    <option value="entertainment">Entertainment</option>
                                    <option value="shopping">Shopping</option>
                                    <option value="healthcare">Healthcare</option>
                                    <option value="personal">Personal Care</option>
                                    <option value="education">Education</option>
                                    <option value="mobile">Mobile Recharge</option>
                                    <option value="tv">TV Recharge</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-3 d-flex align-items-end">
                                <button type="submit" class="btn btn-primary w-100">Add Expense</button>
                            </div>
                            <div class="col-md-12 mt-2">
                                <label for="expense-description" class="form-label">Description (optional)</label>
                                <input type="text" class="form-control" id="expense-description" placeholder="Add more details about this expense">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4">
                <div class="card summary-section">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Expense Summary</span>
                        <div class="btn-group period-toggle" role="group">
                            <button type="button" class="btn btn-sm btn-outline-secondary active" data-period="week">Week</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary" data-period="month">Month</button>
                            <button type="button" class="btn btn-sm btn-outline-secondary" data-period="year">Year</button>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="summary-box mb-3">
                            <p>Total Spending</p>
                            <h3>$1,245.67</h3>
                            <small>Current month</small>
                        </div>
                        <div class="d-flex justify-content-between mb-3">
                            <div>
                                <p class="mb-1 text-muted">Highest Expense</p>
                                <h6>Housing <span class="text-muted">$500.00</span></h6>
                            </div>
                            <div>
                                <p class="mb-1 text-muted">Most Frequent</p>
                                <h6>Food <span class="text-muted">12 times</span></h6>
                            </div>
                        </div>
                        <div>
                            <p class="mb-1 text-muted">Daily Average</p>
                            <h6>$41.52</h6>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Budget Management</span>
                        <button class="btn btn-sm btn-outline-primary" id="add-budget-btn">Add Budget</button>
                    </div>
                    <div class="card-body p-0">
                        <div class="list-group list-group-flush" id="budget-list">
                            <div class="list-group-item d-flex justify-content-between align-items-center py-3">
                                <div>
                                    <span class="budget-status good"></span>
                                    <span>Food & Dining</span>
                                </div>
                                <div>
                                    <span class="badge bg-light text-dark me-2">$320 / $400</span>
                                    <div class="progress" style="width: 100px; height: 8px;">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 80%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex justify-content-between align-items-center py-3">
                                <div>
                                    <span class="budget-status warning"></span>
                                    <span>Entertainment</span>
                                </div>
                                <div>
                                    <span class="badge bg-light text-dark me-2">$180 / $200</span>
                                    <div class="progress" style="width: 100px; height: 8px;">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 90%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex justify-content-between align-items-center py-3">
                                <div>
                                    <span class="budget-status exceeded"></span>
                                    <span>Shopping</span>
                                </div>
                                <div>
                                    <span class="badge bg-light text-dark me-2">$250 / $200</span>
                                    <div class="progress" style="width: 100px; height: 8px;">
                                        <div class="progress-bar bg-danger" role="progressbar" style="width: 100%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="list-group-item d-flex justify-content-between align-items-center py-3">
                                <div>
                                    <span class="budget-status good"></span>
                                    <span>Transportation</span>
                                </div>
                                <div>
                                    <span class="badge bg-light text-dark me-2">$120 / $200</span>
                                    <div class="progress" style="width: 100px; height: 8px;">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 60%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-8">
                <div class="card">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs" id="chart-tabs">
                            <li class="nav-item">
                                <a class="nav-link active" data-bs-toggle="tab" href="#line-chart-tab">Trend</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#bar-chart-tab">Comparison</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#pie-chart-tab">Distribution</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" data-bs-toggle="tab" href="#area-chart-tab">Cumulative</a>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="tab-content">
                            <div class="tab-pane fade show active" id="line-chart-tab">
                                <div class="chart-container">
                                    <canvas id="line-chart"></canvas>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="bar-chart-tab">
                                <div class="chart-container">
                                    <canvas id="bar-chart"></canvas>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="pie-chart-tab">
                                <div class="chart-container">
                                    <canvas id="pie-chart"></canvas>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="area-chart-tab">
                                <div class="chart-container">
                                    <canvas id="area-chart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <span>Recent Transactions</span>
                        <button class="btn btn-sm btn-outline-primary">View All</button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Category</th>
                                    <th>Description</th>
                                    <th class="text-end">Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>May 24, 2025</td>
                                    <td><span class="badge bg-light text-dark">Food</span></td>
                                    <td>Grocery shopping</td>
                                    <td class="text-end">$85.40</td>
                                </tr>
                                <tr>
                                    <td>May 22, 2025</td>
                                    <td><span class="badge bg-light text-dark">Mobile</span></td>
                                    <td>Monthly recharge</td>
                                    <td class="text-end">$35.99</td>
                                </tr>
                                <tr>
                                    <td>May 20, 2025</td>
                                    <td><span class="badge bg-light text-dark">Entertainment</span></td>
                                    <td>Movie tickets</td>
                                    <td class="text-end">$24.00</td>
                                </tr>
                                <tr>
                                    <td>May 19, 2025</td>
                                    <td><span class="badge bg-light text-dark">Shopping</span></td>
                                    <td>New shoes</td>
                                    <td class="text-end">$89.95</td>
                                </tr>
                                <tr>
                                    <td>May 18, 2025</td>
                                    <td><span class="badge bg-light text-dark">Utilities</span></td>
                                    <td>Electricity bill</td>
                                    <td class="text-end">$145.78</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for adding or editing budgets -->
    <div class="modal fade" id="budget-modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="budget-modal-title">Add Budget</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="budget-form">
                        <div class="mb-3">
                            <label for="budget-category" class="form-label">Category</label>
                            <select class="form-select" id="budget-category" required>
                                <option value="">Select category</option>
                                <option value="food">Food & Dining</option>
                                <option value="transportation">Transportation</option>
                                <option value="housing">Housing</option>
                                <option value="utilities">Utilities</option>
                                <option value="entertainment">Entertainment</option>
                                <option value="shopping">Shopping</option>
                                <option value="healthcare">Healthcare</option>
                                <option value="personal">Personal Care</option>
                                <option value="education">Education</option>
                                <option value="mobile">Mobile Recharge</option>
                                <option value="tv">TV Recharge</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="budget-amount" class="form-label">Monthly Budget Amount ($)</label>
                            <input type="number" class="form-control" id="budget-amount" placeholder="0.00" min="0.01" step="0.01" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="save-budget-btn">Save Budget</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script id="app-script">
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize date picker
            flatpickr("#expense-date", {
                dateFormat: "Y-m-d",
                defaultDate: "today"
            });

            // Initialize modals
            const budgetModal = new bootstrap.Modal(document.getElementById('budget-modal'));
            
            // Event listener for add budget button
            document.getElementById('add-budget-btn').addEventListener('click', function() {
                document.getElementById('budget-modal-title').textContent = 'Add Budget';
                document.getElementById('budget-form').reset();
                budgetModal.show();
            });

            // Period toggle buttons
            const periodButtons = document.querySelectorAll('.period-toggle .btn');
            periodButtons.forEach(button => {
                button.addEventListener('click', function() {
                    periodButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    updateSummary(this.getAttribute('data-period'));
                });
            });

            function updateSummary(period) {
                // This would normally fetch data based on the selected period
                // For the prototype, we'll just simulate different values
                let totalAmount, highest, frequent, average;
                
                switch(period) {
                    case 'week':
                        totalAmount = '$325.45';
                        highest = 'Food <span class="text-muted">$85.40</span>';
                        frequent = 'Food <span class="text-muted">4 times</span>';
                        average = '$46.49';
                        document.querySelector('.summary-box small').textContent = 'Current week';
                        break;
                    case 'month':
                        totalAmount = '$1,245.67';
                        highest = 'Housing <span class="text-muted">$500.00</span>';
                        frequent = 'Food <span class="text-muted">12 times</span>';
                        average = '$41.52';
                        document.querySelector('.summary-box small').textContent = 'Current month';
                        break;
                    case 'year':
                        totalAmount = '$12,685.34';
                        highest = 'Housing <span class="text-muted">$6,000.00</span>';
                        frequent = 'Food <span class="text-muted">145 times</span>';
                        average = '$34.75';
                        document.querySelector('.summary-box small').textContent = 'Current year';
                        break;
                }
                
                document.querySelector('.summary-box h3').textContent = totalAmount;
                document.querySelectorAll('.d-flex.justify-content-between h6')[0].innerHTML = highest;
                document.querySelectorAll('.d-flex.justify-content-between h6')[1].innerHTML = frequent;
                document.querySelector('div > p.mb-1.text-muted + h6').textContent = average;
            }

            // Initialize charts
            initializeCharts();
            
            function initializeCharts() {
                // Line Chart - Expense Trends
                const lineCtx = document.getElementById('line-chart').getContext('2d');
                const lineChart = new Chart(lineCtx, {
                    type: 'line',
                    data: {
                        labels: ['May 1', 'May 5', 'May 10', 'May 15', 'May 20', 'May 25', 'May 30'],
                        datasets: [{
                            label: 'Daily Expenses',
                            data: [65, 45, 75, 35, 60, 80, 40],
                            borderColor: '#6366f1',
                            tension: 0.4,
                            backgroundColor: 'rgba(99, 102, 241, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `$${context.raw}`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value;
                                    }
                                }
                            }
                        }
                    }
                });

                // Bar Chart - Category Comparison
                const barCtx = document.getElementById('bar-chart').getContext('2d');
                const barChart = new Chart(barCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Food', 'Transport', 'Housing', 'Utilities', 'Entertainment', 'Shopping'],
                        datasets: [{
                            label: 'Monthly Expenses by Category',
                            data: [320, 120, 500, 145, 180, 250],
                            backgroundColor: [
                                'rgba(99, 102, 241, 0.7)',
                                'rgba(139, 92, 246, 0.7)',
                                'rgba(16, 185, 129, 0.7)',
                                'rgba(245, 158, 11, 0.7)',
                                'rgba(239, 68, 68, 0.7)',
                                'rgba(14, 165, 233, 0.7)'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `$${context.raw}`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value;
                                    }
                                }
                            }
                        }
                    }
                });

                // Pie Chart - Category Distribution
                const pieCtx = document.getElementById('pie-chart').getContext('2d');
                const pieChart = new Chart(pieCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Food', 'Transport', 'Housing', 'Utilities', 'Entertainment', 'Shopping'],
                        datasets: [{
                            data: [320, 120, 500, 145, 180, 250],
                            backgroundColor: [
                                'rgba(99, 102, 241, 0.7)',
                                'rgba(139, 92, 246, 0.7)',
                                'rgba(16, 185, 129, 0.7)',
                                'rgba(245, 158, 11, 0.7)',
                                'rgba(239, 68, 68, 0.7)',
                                'rgba(14, 165, 233, 0.7)'
                            ],
                            hoverOffset: 4
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                        const percentage = Math.round((context.raw / total) * 100);
                                        return `${context.label}: $${context.raw} (${percentage}%)`;
                                    }
                                }
                            }
                        }
                    }
                });

                // Area Chart - Cumulative Spending
                const areaCtx = document.getElementById('area-chart').getContext('2d');
                const areaChart = new Chart(areaCtx, {
                    type: 'line',
                    data: {
                        labels: ['May 1', 'May 5', 'May 10', 'May 15', 'May 20', 'May 25', 'May 30'],
                        datasets: [{
                            label: 'Cumulative Spending',
                            data: [100, 300, 550, 700, 900, 1100, 1245],
                            borderColor: '#8b5cf6',
                            backgroundColor: 'rgba(139, 92, 246, 0.3)',
                            fill: true,
                            tension: 0.2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return `Total: $${context.raw}`;
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value;
                                    }
                                }
                            }
                        }
                    }
                });
            }

            // Form submission handling
            document.getElementById('expense-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // In a real application, we would save this to sessionStorage or call an API
                // For the prototype, just show an alert
                alert('Expense added successfully! This is a prototype, continue building to see the full version.');
                this.reset();
                flatpickr("#expense-date", {
                    dateFormat: "Y-m-d",
                    defaultDate: "today"
                });
            });

            // Budget form handling
            document.getElementById('save-budget-btn').addEventListener('click', function() {
                const form = document.getElementById('budget-form');
                if (form.checkValidity()) {
                    // In a real application, we would save this to sessionStorage or call an API
                    alert('Budget saved successfully! This is a prototype, continue building to see the full version.');
                    budgetModal.hide();
                } else {
                    form.reportValidity();
                }
            });
        });
    </script>
</body>
</html>